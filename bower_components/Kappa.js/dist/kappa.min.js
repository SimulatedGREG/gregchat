!function(e){e.fn.kappa=function(t){function o(e){i=JSON.parse(e),a=i.emotes,TEMPLATES=i.template,c()}function n(){switch(l.emoteSize){case"small":return TEMPLATES.small;case"medium":return TEMPLATES.medium;case"large":return TEMPLATES.large}}function s(){return null!==l.customClass?' class="'+l.customClass+'" ':""}function c(){var t,o=n(),c=s();e.each(a,function(n,s){t=s.image_id,currentEmoteUrl=o.replace("{image_id}",t),r.each(function(t,o){e(o).html(function(e,t){var o=new RegExp("\\b"+n+"\\b","g");this.innerHTML=t.replace(o,'<img src="'+currentEmoteUrl+'" alt="'+n+' Emote"'+c+">")})})})}var i,a,r=e(this),l=e.extend({emoteSize:"small",customClass:null},t);"undefined"!=typeof Storage?null===sessionStorage.getItem("twitchEmotesAPI")?e.ajax({url:"http://twitchemotes.com/api_cache/v2/global.json",success:function(e){sessionStorage.setItem("twitchEmotesAPI",JSON.stringify(e)),o(sessionStorage.getItem("twitchEmotesAPI"))},error:function(){console.log("Connection to Twitch Emotes API v2 has failed.")}}):o(sessionStorage.getItem("twitchEmotesAPI")):e.ajax({url:"http://twitchemotes.com/api_cache/v2/global.json",success:function(e){o(JSON.stringify(e))},error:function(){console.log("Connection to Twitch Emotes API v2 has failed.")}})}}(jQuery);
